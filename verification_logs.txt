$ turbo run dev --concurrency 15
• turbo 2.8.3
• Packages in scope: @repo/eslint-config, @repo/storage, @repo/types, @repo/typescript-config, @repo/ui, agent, autopsy, dashboard, docs-site, git-service, repro-service, router, sample-app, state-service, web, web-client
• Running dev in 16 packages
• Remote caching disabled
autopsy:dev: cache bypass, force executing 5aa30f43640e0d27
state-service:dev: cache bypass, force executing e1faefcac4aad211
sample-app:dev: cache bypass, force executing d559a20ec55b1e18
docs-site:dev: cache bypass, force executing ca23cfbb24ad5739
router:dev: cache bypass, force executing a6d565069c76121b
dashboard:dev: cache bypass, force executing 9c5af97a0491f1c0
agent:dev: cache bypass, force executing 6f1a94e70e009055
web:dev: cache bypass, force executing 57ac094d28304821
git-service:dev: cache bypass, force executing 0b9710599c25393e
web-client:dev: cache bypass, force executing e45c1d92ac07f044
repro-service:dev: cache bypass, force executing 3fafd43b329016f2
autopsy:dev: $ bun run --watch src/index.ts
state-service:dev: $ bun run --watch src/index.ts
docs-site:dev: $ next dev -p ${DOCS_PORT:-3007}
sample-app:dev: $ bun run --watch src/index.ts
router:dev: $ bun run --watch src/index.ts
dashboard:dev: $ bun run --watch src/index.ts
agent:dev: $ bun run --watch src/index.ts
web:dev: $ next dev -p ${WEB_PORT:-3006}
git-service:dev: $ bun run --watch src/index.ts
web-client:dev: $ bun run --watch src/server.ts
repro-service:dev: $ bun run --watch src/server.ts
sample-app:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
sample-app:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
sample-app:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
sample-app:dev: Starting sample-app on port 3008...
sample-app:dev: OTEL Agent endpoint: http://localhost:4318
state-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
state-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
state-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
sample-app:dev: Server listening on http://localhost:3008
state-service:dev: State Service listening on http://localhost:3003
web-client:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
agent:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
web-client:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
web-client:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
agent:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
agent:dev: Starting Autonomous Observability Agent (OTel Receiver)...
web-client:dev: Web Dashboard listening on http://localhost:3009
agent:dev: Agent OTLP Receiver listening on http://localhost:4318
agent:dev: Send traces to http://localhost:4318/v1/traces
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
router:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
router:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
router:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
git-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
git-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
router:dev: Router listening on http://localhost:3001
git-service:dev: Git Service listening on http://localhost:3004
repro-service:dev: Repro Service listening on http://localhost:3005
dashboard:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
dashboard:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
dashboard:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
dashboard:dev: Dashboard listening on http://localhost:3000
docs-site:dev: ▲ Next.js 16.1.6 (Turbopack)
docs-site:dev: - Local:         http://localhost:3007
docs-site:dev: - Network:       http://172.20.10.2:3007
docs-site:dev: 
docs-site:dev: ✓ Starting...
web:dev: ▲ Next.js 16.1.6 (Turbopack)
web:dev: - Local:         http://localhost:3006
web:dev: - Network:       http://172.20.10.2:3006
web:dev: 
web:dev: ✓ Starting...
web:dev: ⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
web:dev: ✓ Ready in 863ms
docs-site:dev: ✓ Ready in 916ms
sample-app:dev: Triggering intentional failure scenario...
sample-app:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
sample-app:dev: Unhandled error processing request:
sample-app:dev: 37 |             throw new Error("Request Timeout - CPU Limit Exceeded");
sample-app:dev: 38 |           }
sample-app:dev: 39 | 
sample-app:dev: 40 |           if (payload?.action === "cause_error") {
sample-app:dev: 41 |             console.log("Triggering intentional failure scenario...");
sample-app:dev: 42 |             const error = new Error(
sample-app:dev:                                    ^
sample-app:dev: error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:       at /Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31
sample-app:dev: 
agent:dev: [Agent] DETECTED INCIDENT: http_error - HTTP 500 Error: error.handler
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/eb7ebeab-8ca0-436f-af62-77fafed2b362/event.json
router:dev: [Router] Received incident: eb7ebeab-8ca0-436f-af62-77fafed2b362
router:dev: [Router] Snapshot uploaded to R2: incidents/eb7ebeab-8ca0-436f-af62-77fafed2b362/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/eb7ebeab-8ca0-436f-af62-77fafed2b362/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
agent:dev: [Agent] DETECTED INCIDENT: exception - Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/eb7ebeab-8ca0-436f-af62-77fafed2b362/snapshot.json
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: eb7ebeab-8ca0-436f-af62-77fafed2b362
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/11bf7e39-ac99-4360-a7d6-acf7b53c837a/event.json
router:dev: [Router] Received incident: 11bf7e39-ac99-4360-a7d6-acf7b53c837a
router:dev: [Router] Snapshot uploaded to R2: incidents/11bf7e39-ac99-4360-a7d6-acf7b53c837a/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/11bf7e39-ac99-4360-a7d6-acf7b53c837a/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/11bf7e39-ac99-4360-a7d6-acf7b53c837a/snapshot.json
sample-app:dev: [OTEL] Trace sent to agent: error.handler
sample-app:dev: [OTEL] Error sent to agent for analysis
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: 11bf7e39-ac99-4360-a7d6-acf7b53c837a
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/eb7ebeab-8ca0-436f-af62-77fafed2b362/autopsy.json
git-service:dev: [Git] Received PR Request for incident eb7ebeab-8ca0-436f-af62-77fafed2b362
git-service:dev: Cloning into 'repo-eb7ebeab-8ca0-436f-af62-77fafed2b362'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-eb7ebeab-8ca0-436f-af62-77fafed2b362'
git-service:dev: error: corrupt patch at line 16
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-eb7ebeab-8ca0-436f-af62-77fafed2b362
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident eb7ebeab-8ca0-436f-af62-77fafed2b362
git-service:dev: 
git-service:dev: Fix: The error message and stacktrace are too generic a (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/11bf7e39-ac99-4360-a7d6-acf7b53c837a/autopsy.json
git-service:dev: [Git] Received PR Request for incident 11bf7e39-ac99-4360-a7d6-acf7b53c837a
git-service:dev: Cloning into 'repo-11bf7e39-ac99-4360-a7d6-acf7b53c837a'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-11bf7e39-ac99-4360-a7d6-acf7b53c837a'
git-service:dev: error: corrupt patch at line 12
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-11bf7e39-ac99-4360-a7d6-acf7b53c837a
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident 11bf7e39-ac99-4360-a7d6-acf7b53c837a
git-service:dev: 
git-service:dev: Fix: The error 'SeededDemoFailure: deterministic bug fo (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
sample-app:dev: Triggering intentional failure scenario...
sample-app:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
sample-app:dev: Unhandled error processing request:
sample-app:dev: 37 |             throw new Error("Request Timeout - CPU Limit Exceeded");
sample-app:dev: 38 |           }
sample-app:dev: 39 | 
sample-app:dev: 40 |           if (payload?.action === "cause_error") {
sample-app:dev: 41 |             console.log("Triggering intentional failure scenario...");
sample-app:dev: 42 |             const error = new Error(
sample-app:dev:                                    ^
sample-app:dev: error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:       at /Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31
sample-app:dev: 
agent:dev: [Agent] DETECTED INCIDENT: http_error - HTTP 500 Error: error.handler
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/a3882062-7982-435b-8059-8d61d070be5a/event.json
router:dev: [Router] Received incident: a3882062-7982-435b-8059-8d61d070be5a
router:dev: [Router] Snapshot uploaded to R2: incidents/a3882062-7982-435b-8059-8d61d070be5a/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/a3882062-7982-435b-8059-8d61d070be5a/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
agent:dev: [Agent] DETECTED INCIDENT: exception - Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/a3882062-7982-435b-8059-8d61d070be5a/snapshot.json
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/b161e6f0-1725-4ee3-8a69-5ed9fdc8a852/event.json
router:dev: [Router] Received incident: b161e6f0-1725-4ee3-8a69-5ed9fdc8a852
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: a3882062-7982-435b-8059-8d61d070be5a
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
router:dev: [Router] Snapshot uploaded to R2: incidents/b161e6f0-1725-4ee3-8a69-5ed9fdc8a852/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/b161e6f0-1725-4ee3-8a69-5ed9fdc8a852/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/b161e6f0-1725-4ee3-8a69-5ed9fdc8a852/snapshot.json
sample-app:dev: [OTEL] Trace sent to agent: error.handler
sample-app:dev: [OTEL] Error sent to agent for analysis
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: b161e6f0-1725-4ee3-8a69-5ed9fdc8a852
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/b161e6f0-1725-4ee3-8a69-5ed9fdc8a852/autopsy.json
git-service:dev: [Git] Received PR Request for incident b161e6f0-1725-4ee3-8a69-5ed9fdc8a852
git-service:dev: Cloning into 'repo-b161e6f0-1725-4ee3-8a69-5ed9fdc8a852'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-b161e6f0-1725-4ee3-8a69-5ed9fdc8a852'
git-service:dev: error: corrupt patch at line 14
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-b161e6f0-1725-4ee3-8a69-5ed9fdc8a852
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident b161e6f0-1725-4ee3-8a69-5ed9fdc8a852
git-service:dev: 
git-service:dev: Fix: The error 'SeededDemoFailure: deterministic bug fo (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Failed to trigger Autopsy async: error: The socket connection was closed unexpectedly. For more information, pass `verbose: true` in the second argument to fetch()
router:dev:   path: "http://localhost:3002/analyze",
router:dev:  errno: 0,
router:dev:   code: "ECONNRESET"
router:dev: 
router:dev: 
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
sample-app:dev: Triggering intentional failure scenario...
sample-app:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
sample-app:dev: Unhandled error processing request:
sample-app:dev: 37 |             throw new Error("Request Timeout - CPU Limit Exceeded");
sample-app:dev: 38 |           }
sample-app:dev: 39 | 
sample-app:dev: 40 |           if (payload?.action === "cause_error") {
sample-app:dev: 41 |             console.log("Triggering intentional failure scenario...");
sample-app:dev: 42 |             const error = new Error(
sample-app:dev:                                    ^
sample-app:dev: error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:       at /Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31
sample-app:dev: 
agent:dev: [Agent] DETECTED INCIDENT: http_error - HTTP 500 Error: error.handler
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/ebded54f-1601-4a06-be0d-721db742068f/event.json
router:dev: [Router] Received incident: ebded54f-1601-4a06-be0d-721db742068f
router:dev: [Router] Snapshot uploaded to R2: incidents/ebded54f-1601-4a06-be0d-721db742068f/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/ebded54f-1601-4a06-be0d-721db742068f/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
agent:dev: [Agent] DETECTED INCIDENT: exception - Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/ebded54f-1601-4a06-be0d-721db742068f/snapshot.json
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Trace Issue in Span error.handler: HTTP 500 Error: error.handler
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: ebded54f-1601-4a06-be0d-721db742068f
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/c4ccf014-3dcd-4840-a637-8c7edc66d708/event.json
router:dev: [Router] Received incident: c4ccf014-3dcd-4840-a637-8c7edc66d708
router:dev: [Router] Snapshot uploaded to R2: incidents/c4ccf014-3dcd-4840-a637-8c7edc66d708/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/c4ccf014-3dcd-4840-a637-8c7edc66d708/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/c4ccf014-3dcd-4840-a637-8c7edc66d708/snapshot.json
sample-app:dev: [OTEL] Trace sent to agent: error.handler
sample-app:dev: [OTEL] Error sent to agent for analysis
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Exception in Span error.handler: Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: c4ccf014-3dcd-4840-a637-8c7edc66d708
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/ebded54f-1601-4a06-be0d-721db742068f/autopsy.json
git-service:dev: [Git] Received PR Request for incident ebded54f-1601-4a06-be0d-721db742068f
git-service:dev: Cloning into 'repo-ebded54f-1601-4a06-be0d-721db742068f'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-ebded54f-1601-4a06-be0d-721db742068f'
git-service:dev: error: corrupt patch at line 16
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-ebded54f-1601-4a06-be0d-721db742068f
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident ebded54f-1601-4a06-be0d-721db742068f
git-service:dev: 
git-service:dev: Fix: The error message and stacktrace are too generic a (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Failed to trigger Autopsy async: DOMException {
router:dev:   stack: "",
router:dev:   code: 23,
router:dev:   name: "TimeoutError",
router:dev:   message: "The operation timed out.",
router:dev:   INDEX_SIZE_ERR: 1,
router:dev:   DOMSTRING_SIZE_ERR: 2,
router:dev:   HIERARCHY_REQUEST_ERR: 3,
router:dev:   WRONG_DOCUMENT_ERR: 4,
router:dev:   INVALID_CHARACTER_ERR: 5,
router:dev:   NO_DATA_ALLOWED_ERR: 6,
router:dev:   NO_MODIFICATION_ALLOWED_ERR: 7,
router:dev:   NOT_FOUND_ERR: 8,
router:dev:   NOT_SUPPORTED_ERR: 9,
router:dev:   INUSE_ATTRIBUTE_ERR: 10,
router:dev:   INVALID_STATE_ERR: 11,
router:dev:   SYNTAX_ERR: 12,
router:dev:   INVALID_MODIFICATION_ERR: 13,
router:dev:   NAMESPACE_ERR: 14,
router:dev:   INVALID_ACCESS_ERR: 15,
router:dev:   VALIDATION_ERR: 16,
router:dev:   TYPE_MISMATCH_ERR: 17,
router:dev:   SECURITY_ERR: 18,
router:dev:   NETWORK_ERR: 19,
router:dev:   ABORT_ERR: 20,
router:dev:   URL_MISMATCH_ERR: 21,
router:dev:   QUOTA_EXCEEDED_ERR: 22,
router:dev:   TIMEOUT_ERR: 23,
router:dev:   INVALID_NODE_TYPE_ERR: 24,
router:dev:   DATA_CLONE_ERR: 25,
router:dev:   toString: [Function: toString],
router:dev: }
state-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
state-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
state-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
state-service:dev: State Service listening on http://localhost:3003
agent:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
agent:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
agent:dev: Starting Autonomous Observability Agent (OTel Receiver)...
agent:dev: Agent OTLP Receiver listening on http://localhost:4318
agent:dev: Send traces to http://localhost:4318/v1/traces
agent:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
agent:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
agent:dev: Starting Autonomous Observability Agent (OTel Receiver)...
agent:dev: Agent OTLP Receiver listening on http://localhost:4318
agent:dev: Send traces to http://localhost:4318/v1/traces
agent:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
agent:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
agent:dev: Starting Autonomous Observability Agent (OTel Receiver)...
agent:dev: Agent OTLP Receiver listening on http://localhost:4318
agent:dev: Send traces to http://localhost:4318/v1/traces
error: script "dev" was terminated by signal SIGTERM (Polite quit request)
docs-site:dev: [?25h
 ERROR  run failed: command  exited (1)
$ turbo run dev --concurrency 15
• turbo 2.8.3
• Packages in scope: @repo/eslint-config, @repo/storage, @repo/types, @repo/typescript-config, @repo/ui, agent, autopsy, dashboard, docs-site, git-service, repro-service, router, sample-app, state-service, web, web-client
• Running dev in 16 packages
• Remote caching disabled
autopsy:dev: cache bypass, force executing e29174cfb51c35cd
docs-site:dev: cache bypass, force executing ca23cfbb24ad5739
web:dev: cache bypass, force executing 57ac094d28304821
dashboard:dev: cache bypass, force executing 9c5af97a0491f1c0
state-service:dev: cache bypass, force executing e1faefcac4aad211
web-client:dev: cache bypass, force executing e45c1d92ac07f044
router:dev: cache bypass, force executing a6d565069c76121b
git-service:dev: cache bypass, force executing ca8aa04a12d5ad19
sample-app:dev: cache bypass, force executing d559a20ec55b1e18
agent:dev: cache bypass, force executing 6549a2b862cafdc1
repro-service:dev: cache bypass, force executing 3fafd43b329016f2
dashboard:dev: $ bun run --watch src/index.ts
web:dev: $ next dev -p ${WEB_PORT:-3006}
autopsy:dev: $ bun run --watch src/index.ts
docs-site:dev: $ next dev -p ${DOCS_PORT:-3007}
state-service:dev: $ bun run --watch src/index.ts
web-client:dev: $ bun run --watch src/server.ts
router:dev: $ bun run --watch src/index.ts
sample-app:dev: $ bun run --watch src/index.ts
git-service:dev: $ bun run --watch src/index.ts
agent:dev: $ bun run --watch src/index.ts
repro-service:dev: $ bun run --watch src/server.ts
sample-app:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
state-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
sample-app:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
sample-app:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
sample-app:dev: Starting sample-app on port 3008...
sample-app:dev: OTEL Agent endpoint: http://localhost:4318
state-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
state-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
sample-app:dev: Server listening on http://localhost:3008
state-service:dev: State Service listening on http://localhost:3003
web-client:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
web-client:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
web-client:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
web-client:dev: Web Dashboard listening on http://localhost:3009
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
agent:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
agent:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
agent:dev: Starting Autonomous Observability Agent (OTel Receiver)...
agent:dev: Agent OTLP Receiver listening on http://localhost:4318
agent:dev: Send traces to http://localhost:4318/v1/traces
router:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
git-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
router:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
router:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
git-service:dev: Git Service listening on http://localhost:3004
router:dev: Router listening on http://localhost:3001
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
dashboard:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
dashboard:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
dashboard:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
dashboard:dev: Dashboard listening on http://localhost:3000
docs-site:dev: ▲ Next.js 16.1.6 (Turbopack)
docs-site:dev: - Local:         http://localhost:3007
docs-site:dev: - Network:       http://192.168.1.35:3007
docs-site:dev: 
docs-site:dev: ✓ Starting...
web:dev: ▲ Next.js 16.1.6 (Turbopack)
web:dev: - Local:         http://localhost:3006
web:dev: - Network:       http://192.168.1.35:3006
web:dev: 
web:dev: ✓ Starting...
web:dev: ⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
docs-site:dev: ✓ Ready in 836ms
web:dev: ✓ Ready in 838ms
sample-app:dev: Triggering intentional failure scenario...
sample-app:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
sample-app:dev: Unhandled error processing request:
sample-app:dev: 37 |             throw new Error("Request Timeout - CPU Limit Exceeded");
sample-app:dev: 38 |           }
sample-app:dev: 39 | 
sample-app:dev: 40 |           if (payload?.action === "cause_error") {
sample-app:dev: 41 |             console.log("Triggering intentional failure scenario...");
sample-app:dev: 42 |             const error = new Error(
sample-app:dev:                                    ^
sample-app:dev: error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:       at /Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31
sample-app:dev: 
agent:dev: [Agent] DETECTED INCIDENT: http_error - HTTP 500 Error: error.handler
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/b4d7d7c9-090d-4006-b736-96636d9b157f/event.json
router:dev: [Router] Received incident: b4d7d7c9-090d-4006-b736-96636d9b157f
router:dev: [Router] Snapshot uploaded to R2: incidents/b4d7d7c9-090d-4006-b736-96636d9b157f/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/b4d7d7c9-090d-4006-b736-96636d9b157f/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
agent:dev: [Agent] DETECTED INCIDENT: exception - Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/b4d7d7c9-090d-4006-b736-96636d9b157f/snapshot.json
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/d4600f72-bada-4d7c-abe7-f52e6cc54673/event.json
router:dev: [Router] Received incident: d4600f72-bada-4d7c-abe7-f52e6cc54673
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Trace Issue in Span error.handler: HTTP 500 Error: error.handler
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: b4d7d7c9-090d-4006-b736-96636d9b157f
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
router:dev: [Router] Snapshot uploaded to R2: incidents/d4600f72-bada-4d7c-abe7-f52e6cc54673/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/d4600f72-bada-4d7c-abe7-f52e6cc54673/snapshot.json
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/d4600f72-bada-4d7c-abe7-f52e6cc54673/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
sample-app:dev: [OTEL] Trace sent to agent: error.handler
sample-app:dev: [OTEL] Error sent to agent for analysis
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: d4600f72-bada-4d7c-abe7-f52e6cc54673
autopsy:dev: [AstLocator] Raw: "/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts" -> Candidate: "/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts" (Exists: true)
autopsy:dev: [Autopsy] Located source: apps/sample-app/src/index.ts:42
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/b4d7d7c9-090d-4006-b736-96636d9b157f/autopsy.json
git-service:dev: [Git] Received PR Request for incident b4d7d7c9-090d-4006-b736-96636d9b157f
git-service:dev: Cloning into 'repo-b4d7d7c9-090d-4006-b736-96636d9b157f'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-b4d7d7c9-090d-4006-b736-96636d9b157f'
git-service:dev: error: corrupt patch at line 17
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-b4d7d7c9-090d-4006-b736-96636d9b157f
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident b4d7d7c9-090d-4006-b736-96636d9b157f
git-service:dev: 
git-service:dev: Fix: The error message and stacktrace are too generic a (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/d4600f72-bada-4d7c-abe7-f52e6cc54673/autopsy.json
git-service:dev: [Git] Received PR Request for incident d4600f72-bada-4d7c-abe7-f52e6cc54673
git-service:dev: Cloning into 'repo-d4600f72-bada-4d7c-abe7-f52e6cc54673'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-d4600f72-bada-4d7c-abe7-f52e6cc54673'
git-service:dev: error: corrupt patch at line 25
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-d4600f72-bada-4d7c-abe7-f52e6cc54673
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident d4600f72-bada-4d7c-abe7-f52e6cc54673
git-service:dev: 
git-service:dev: Fix: The error is intentionally thrown when the payload (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
sample-app:dev: Triggering intentional failure scenario...
sample-app:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
sample-app:dev: Unhandled error processing request:
sample-app:dev: 37 |             throw new Error("Request Timeout - CPU Limit Exceeded");
sample-app:dev: 38 |           }
sample-app:dev: 39 | 
sample-app:dev: 40 |           if (payload?.action === "cause_error") {
sample-app:dev: 41 |             console.log("Triggering intentional failure scenario...");
sample-app:dev: 42 |             const error = new Error(
sample-app:dev:                                    ^
sample-app:dev: error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:       at /Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31
sample-app:dev: 
agent:dev: [Agent] DETECTED INCIDENT: http_error - HTTP 500 Error: error.handler
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/7f2968fc-94b4-4c69-b25b-cd60847566ae/event.json
router:dev: [Router] Received incident: 7f2968fc-94b4-4c69-b25b-cd60847566ae
router:dev: [Router] Snapshot uploaded to R2: incidents/7f2968fc-94b4-4c69-b25b-cd60847566ae/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/7f2968fc-94b4-4c69-b25b-cd60847566ae/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
agent:dev: [Agent] DETECTED INCIDENT: exception - Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/7f2968fc-94b4-4c69-b25b-cd60847566ae/snapshot.json
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/90e4b554-4892-477d-8a22-bb67ce7dd7e7/event.json
router:dev: [Router] Received incident: 90e4b554-4892-477d-8a22-bb67ce7dd7e7
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Trace Issue in Span error.handler: HTTP 500 Error: error.handler
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: 7f2968fc-94b4-4c69-b25b-cd60847566ae
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
router:dev: [Router] Snapshot uploaded to R2: incidents/90e4b554-4892-477d-8a22-bb67ce7dd7e7/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/90e4b554-4892-477d-8a22-bb67ce7dd7e7/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/90e4b554-4892-477d-8a22-bb67ce7dd7e7/snapshot.json
sample-app:dev: [OTEL] Trace sent to agent: error.handler
sample-app:dev: [OTEL] Error sent to agent for analysis
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: 90e4b554-4892-477d-8a22-bb67ce7dd7e7
autopsy:dev: [AstLocator] Raw: "/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts" -> Candidate: "/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts" (Exists: true)
autopsy:dev: [Autopsy] Located source: apps/sample-app/src/index.ts:42
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/7f2968fc-94b4-4c69-b25b-cd60847566ae/autopsy.json
git-service:dev: [Git] Received PR Request for incident 7f2968fc-94b4-4c69-b25b-cd60847566ae
git-service:dev: Cloning into 'repo-7f2968fc-94b4-4c69-b25b-cd60847566ae'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-7f2968fc-94b4-4c69-b25b-cd60847566ae'
git-service:dev: error: corrupt patch at line 16
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-7f2968fc-94b4-4c69-b25b-cd60847566ae
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident 7f2968fc-94b4-4c69-b25b-cd60847566ae
git-service:dev: 
git-service:dev: Fix: The error message and stacktrace are too generic a (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/90e4b554-4892-477d-8a22-bb67ce7dd7e7/autopsy.json
git-service:dev: [Git] Received PR Request for incident 90e4b554-4892-477d-8a22-bb67ce7dd7e7
git-service:dev: Cloning into 'repo-90e4b554-4892-477d-8a22-bb67ce7dd7e7'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-90e4b554-4892-477d-8a22-bb67ce7dd7e7'
git-service:dev: error: corrupt patch at line 43
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: On branch aia/incident-90e4b554-4892-477d-8a22-bb67ce7dd7e7
git-service:dev: nothing to commit, working tree clean
git-service:dev: Git Service Error 70 |     private async runGit(args: string[], cwd: string): Promise<void> {
git-service:dev: 71 |         return new Promise((resolve, reject) => {
git-service:dev: 72 |             const proc = spawn("git", args, { cwd, stdio: "inherit" });
git-service:dev: 73 |             proc.on("close", (code) => {
git-service:dev: 74 |                 if (code === 0) resolve();
git-service:dev: 75 |                 else reject(new Error(`Git command failed: git ${args.join(" ")} (code ${code})`));
git-service:dev:                                      ^
git-service:dev: error: Git command failed: git commit -m fix: resolve incident 90e4b554-4892-477d-8a22-bb67ce7dd7e7
git-service:dev: 
git-service:dev: Fix: The root cause is that the code throws an error in (code 1)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
git-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
git-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
git-service:dev: Git Service listening on http://localhost:3004
sample-app:dev: Triggering intentional failure scenario...
sample-app:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
sample-app:dev: Unhandled error processing request:
sample-app:dev: 37 |             throw new Error("Request Timeout - CPU Limit Exceeded");
sample-app:dev: 38 |           }
sample-app:dev: 39 | 
sample-app:dev: 40 |           if (payload?.action === "cause_error") {
sample-app:dev: 41 |             console.log("Triggering intentional failure scenario...");
sample-app:dev: 42 |             const error = new Error(
sample-app:dev:                                    ^
sample-app:dev: error: SeededDemoFailure: deterministic bug for AIA demo
sample-app:dev:       at /Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31
sample-app:dev: 
agent:dev: [Agent] DETECTED INCIDENT: http_error - HTTP 500 Error: error.handler
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/676abf73-9006-4f32-9a39-ad3a3bafe933/event.json
router:dev: [Router] Received incident: 676abf73-9006-4f32-9a39-ad3a3bafe933
router:dev: [Router] Snapshot uploaded to R2: incidents/676abf73-9006-4f32-9a39-ad3a3bafe933/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/676abf73-9006-4f32-9a39-ad3a3bafe933/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
agent:dev: [Agent] DETECTED INCIDENT: exception - Uncaught Exception: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/676abf73-9006-4f32-9a39-ad3a3bafe933/snapshot.json
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Trace Issue in Span error.handler: HTTP 500 Error: error.handler
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: 676abf73-9006-4f32-9a39-ad3a3bafe933
autopsy:dev: [Autopsy] Could not locate source files from stacktrace.
agent:dev: [Agent] Helper Event Uploaded to R2: incidents/d43f0183-aa99-42bf-95ec-9ef4c98bba7c/event.json
router:dev: [Router] Received incident: d43f0183-aa99-42bf-95ec-9ef4c98bba7c
router:dev: [Router] Snapshot uploaded to R2: incidents/d43f0183-aa99-42bf-95ec-9ef4c98bba7c/snapshot.json
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.create()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:15:44
state-service:dev: 
state-service:dev:   12 const id = req.id || crypto.randomUUID();
state-service:dev:   13 const status = req.status || IncidentStatus.DETECTED;
state-service:dev:   14 
state-service:dev: → 15 const incident = await prisma.incident.create(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
router:dev: [Router] Incident persisted to state service
router:dev: [Router] Triggering Autopsy analysis for snapshot: incidents/d43f0183-aa99-42bf-95ec-9ef4c98bba7c/snapshot.json
agent:dev: [Agent] Sent to Router: http://localhost:3001/ingest
autopsy:dev: [Autopsy] Analyzing snapshot: incidents/d43f0183-aa99-42bf-95ec-9ef4c98bba7c/snapshot.json
sample-app:dev: [OTEL] Trace sent to agent: error.handler
sample-app:dev: [OTEL] Error sent to agent for analysis
autopsy:dev: [Autopsy] FULL STACKTRACE:
autopsy:dev: Error: SeededDemoFailure: deterministic bug for AIA demo
autopsy:dev:     at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts:42:31)
autopsy:dev: [Autopsy] Snapshot Loaded. Incident: d43f0183-aa99-42bf-95ec-9ef4c98bba7c
autopsy:dev: [AstLocator] Raw: "/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts" -> Candidate: "/Users/sarthakkarode/autonomus-incident-agent/apps/sample-app/src/index.ts" (Exists: true)
autopsy:dev: [Autopsy] Located source: apps/sample-app/src/index.ts:42
autopsy:dev: [Autopsy] Completed. Result: incidents/676abf73-9006-4f32-9a39-ad3a3bafe933/autopsy.json
git-service:dev: [Git] Received PR Request for incident 676abf73-9006-4f32-9a39-ad3a3bafe933
git-service:dev: Cloning into 'repo-676abf73-9006-4f32-9a39-ad3a3bafe933'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-676abf73-9006-4f32-9a39-ad3a3bafe933'
git-service:dev: error: corrupt patch at line 15
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: [aia/incident-676abf73-9006-4f32-9a39-ad3a3bafe933 6de9919] fix: resolve incident 676abf73-9006-4f32-9a39-ad3a3bafe933
git-service:dev:  1 file changed, 14 insertions(+)
git-service:dev:  create mode 100644 patch_failed_1770918163012.diff
git-service:dev: To /Users/sarthakkarode/autonomus-incident-agent
git-service:dev:  * [new branch]      aia/incident-676abf73-9006-4f32-9a39-ad3a3bafe933 -> aia/incident-676abf73-9006-4f32-9a39-ad3a3bafe933
git-service:dev: branch 'aia/incident-676abf73-9006-4f32-9a39-ad3a3bafe933' set up to track 'origin/aia/incident-676abf73-9006-4f32-9a39-ad3a3bafe933'.
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
git-service:dev: Failed to create PR 30 |                 body: JSON.stringify({ title, body, head, base })
git-service:dev: 31 |             });
git-service:dev: 32 | 
git-service:dev: 33 |             if (!response.ok) {
git-service:dev: 34 |                 const err = await response.text();
git-service:dev: 35 |                 throw new Error(`GitHub API Error: ${response.status} ${err}`);
git-service:dev:                                ^
git-service:dev: error: GitHub API Error: 401 {
git-service:dev:   "message": "Bad credentials",
git-service:dev:   "documentation_url": "https://docs.github.com/rest",
git-service:dev:   "status": "401"
git-service:dev: }
git-service:dev:       at createPullRequest (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/github_client.ts:35:27)
git-service:dev:       at async fetch (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/index.ts:69:33)
git-service:dev: 
git-service:dev: Git Service Error 30 |                 body: JSON.stringify({ title, body, head, base })
git-service:dev: 31 |             });
git-service:dev: 32 | 
git-service:dev: 33 |             if (!response.ok) {
git-service:dev: 34 |                 const err = await response.text();
git-service:dev: 35 |                 throw new Error(`GitHub API Error: ${response.status} ${err}`);
git-service:dev:                                ^
git-service:dev: error: GitHub API Error: 401 {
git-service:dev:   "message": "Bad credentials",
git-service:dev:   "documentation_url": "https://docs.github.com/rest",
git-service:dev:   "status": "401"
git-service:dev: }
git-service:dev:       at createPullRequest (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/github_client.ts:35:27)
git-service:dev:       at async fetch (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/index.ts:69:33)
git-service:dev: 
autopsy:dev: [Autopsy] Completed. Result: incidents/d43f0183-aa99-42bf-95ec-9ef4c98bba7c/autopsy.json
git-service:dev: [Git] Received PR Request for incident d43f0183-aa99-42bf-95ec-9ef4c98bba7c
git-service:dev: Cloning into 'repo-d43f0183-aa99-42bf-95ec-9ef4c98bba7c'...
git-service:dev: done.
git-service:dev: Switched to a new branch 'aia/incident-d43f0183-aa99-42bf-95ec-9ef4c98bba7c'
git-service:dev: error: corrupt patch at line 61
git-service:dev: Apply patch failed, check logs for corrupt patch details.
git-service:dev: [Git] Failed to apply patch for patch.diff: warn: Git command failed: git apply --ignore-space-change --ignore-whitespace temp.patch (code 128)
git-service:dev:       at <anonymous> (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/repo_manager.ts:75:33)
git-service:dev:       at emit (node:events:98:22)
git-service:dev:       at #maybeClose (node:child_process:766:16)
git-service:dev:       at #handleOnExit (node:child_process:520:72)
git-service:dev: 
git-service:dev: [aia/incident-d43f0183-aa99-42bf-95ec-9ef4c98bba7c e5c3afb] fix: resolve incident d43f0183-aa99-42bf-95ec-9ef4c98bba7c
git-service:dev:  1 file changed, 69 insertions(+)
git-service:dev:  create mode 100644 patch_failed_1770918181630.diff
git-service:dev: To /Users/sarthakkarode/autonomus-incident-agent
git-service:dev:  * [new branch]      aia/incident-d43f0183-aa99-42bf-95ec-9ef4c98bba7c -> aia/incident-d43f0183-aa99-42bf-95ec-9ef4c98bba7c
git-service:dev: branch 'aia/incident-d43f0183-aa99-42bf-95ec-9ef4c98bba7c' set up to track 'origin/aia/incident-d43f0183-aa99-42bf-95ec-9ef4c98bba7c'.
git-service:dev: Failed to create PR 30 |                 body: JSON.stringify({ title, body, head, base })
git-service:dev: 31 |             });
git-service:dev: 32 | 
git-service:dev: 33 |             if (!response.ok) {
git-service:dev: 34 |                 const err = await response.text();
git-service:dev: 35 |                 throw new Error(`GitHub API Error: ${response.status} ${err}`);
git-service:dev:                                ^
git-service:dev: error: GitHub API Error: 401 {
git-service:dev:   "message": "Bad credentials",
git-service:dev:   "documentation_url": "https://docs.github.com/rest",
git-service:dev:   "status": "401"
git-service:dev: }
git-service:dev:       at createPullRequest (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/github_client.ts:35:27)
git-service:dev:       at async fetch (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/index.ts:69:33)
git-service:dev: 
git-service:dev: Git Service Error 30 |                 body: JSON.stringify({ title, body, head, base })
git-service:dev: 31 |             });
git-service:dev: 32 | 
git-service:dev: 33 |             if (!response.ok) {
git-service:dev: 34 |                 const err = await response.text();
git-service:dev: 35 |                 throw new Error(`GitHub API Error: ${response.status} ${err}`);
git-service:dev:                                ^
git-service:dev: error: GitHub API Error: 401 {
git-service:dev:   "message": "Bad credentials",
git-service:dev:   "documentation_url": "https://docs.github.com/rest",
git-service:dev:   "status": "401"
git-service:dev: }
git-service:dev:       at createPullRequest (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/github_client.ts:35:27)
git-service:dev:       at async fetch (/Users/sarthakkarode/autonomus-incident-agent/apps/git/src/index.ts:69:33)
git-service:dev: 
state-service:dev: State Service Error 116 | 
state-service:dev: 117 | Example:
state-service:dev: 118 |   await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)
state-service:dev: 119 | 
state-service:dev: 120 | More Information: https://pris.ly/d/execute-raw
state-service:dev: 121 | `)}var So=({clientMethod:e,activeProvider:r})=>t=>{let n="",i;if(Vn(t))n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};else if(Array.isArray(t)){let[o,...s]=t;n=o,i={values:Wr(s||[]),__prismaRawParameters__:!0}}else switch(r){case"sqlite":case"mysql":{n=t.sql,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=t.text,i={values:Wr(t.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Vl(t),i={values:Wr(t.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${r} provider does not support ${e}`)}return i?.values?Ql(`prisma.${e}(${n}, ${i.values})`):Ql(`prisma.${e}(${n})`),{query:n,parameters:i}},Wl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[r,...t]=e;return new ie(r,t)}},Jl={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ro(e){return function(t,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Kl(t(s)):K
state-service:dev: 
state-service:dev: PrismaClientInitializationError: 
state-service:dev: Invalid `prisma.incident.update()` invocation in
state-service:dev: /Users/sarthakkarode/autonomus-incident-agent/apps/state/src/models.ts:45:44
state-service:dev: 
state-service:dev:   42 if (req.snapshot_id) updateData.snapshotId = req.snapshot_id;
state-service:dev:   43 if (req.file_path) updateData.filePath = req.file_path;
state-service:dev:   44 
state-service:dev: → 45 const incident = await prisma.incident.update(
state-service:dev: Can't reach database server at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`
state-service:dev: 
state-service:dev: Please make sure your database server is running at `ep-silent-rain-aidu9yrw-pooler.c-4.us-east-1.aws.neon.tech:5432`.
state-service:dev:  clientVersion: "6.19.2",
state-service:dev:   errorCode: undefined,
state-service:dev:   retryable: undefined,
state-service:dev: 
state-service:dev:       at handleRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:7568)
state-service:dev:       at handleAndLogRequestError (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6593)
state-service:dev:       at request (/Users/sarthakkarode/autonomus-incident-agent/node_modules/@prisma/client/runtime/library.js:121:6300)
state-service:dev: 
agent:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
web-client:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
autopsy:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
web-client:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
agent:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
web-client:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
git-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
git-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
autopsy:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
router:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
agent:dev: Starting Autonomous Observability Agent (OTel Receiver)...
router:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
router:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
autopsy:dev: Autopsy AI Service listening on http://localhost:3002
agent:dev: Agent OTLP Receiver listening on http://localhost:4318
agent:dev: Send traces to http://localhost:4318/v1/traces
web-client:dev: Web Dashboard listening on http://localhost:3009
git-service:dev: Git Service listening on http://localhost:3004
router:dev: Router listening on http://localhost:3001
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
dashboard:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
dashboard:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
dashboard:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
dashboard:dev: Dashboard listening on http://localhost:3000
sample-app:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
sample-app:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
sample-app:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
sample-app:dev: Starting sample-app on port 3008...
sample-app:dev: OTEL Agent endpoint: http://localhost:4318
sample-app:dev: Server listening on http://localhost:3008
router:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
router:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
router:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
router:dev: Router listening on http://localhost:3001
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
repro-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
repro-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
repro-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
repro-service:dev: Repro Service listening on http://localhost:3005
git-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
git-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
git-service:dev: Git Service listening on http://localhost:3004
git-service:dev: [ConfigLoader] Loaded config from: /Users/sarthakkarode/autonomus-incident-agent/aia.config.yaml
git-service:dev: [ConfigLoader] Loaded and parsed .env from: /Users/sarthakkarode/autonomus-incident-agent/.env
git-service:dev: [ConfigLoader] Using YOU_API_KEY from env (Masked: ydc-s...)
git-service:dev: Git Service listening on http://localhost:3004
