# GitHub Bot Setup

To automate incident response, AIA needs a GitHub App or a dedicated bot account to interact with your repositories.

## Creating a Bot Account

1.  Create a new GitHub account (e.g., `my-org-aia-bot`).
2.  Add this account as a collaborator to your repositories with **Write** access.

## Generating a Personal Access Token (PAT)

We recommend using a fine-grained Personal Access Token for better security.

1.  Go to **Settings > Developer settings > Personal access tokens > Fine-grained tokens**.
2.  Click **Generate new token**.
3.  Name the token (e.g., `aia-agent-token`).
4.  **Expiration**: Set an appropriate expiration (e.g., 90 days).
5.  **Repository access**: Select **All repositories** or specific repositories.

### Required Scopes

Grant the following permissions:

| Scope | Access | Reason |
| :--- | :--- | :--- |
| **Contents** | Read and Write | To read code and push branches. |
| **Issues** | Read and Write | To create incident issues. |
| **Pull Requests** | Read and Write | To open and comment on PRs. |
| **Workflows** | Read and Write | To trigger CI/CD checks. |

## Configuring the Agent

Add the token to your environment variables or `aia.config.ts`:

<Tabs defaultValue="bash">
  <TabsList>
    <div className="flex items-center rounded-[4px] bg-[#18181b] p-0.5 border border-zinc-800/50">
      <TabsTrigger value="bash">bash</TabsTrigger>
    </div>
    <TabsCopyButton />
  </TabsList>
  <TabsContent value="bash">
    ```bash
    GITHUB_TOKEN=your_pat_token
    ```
  </TabsContent>
</Tabs>

And in your config:

```typescript
github: {
  // ...
  token: process.env.GITHUB_TOKEN,
  username: "aia-bot-account",
}
```

## Security Best Practices

*   **Least Privilege**: Only grant access to repositories the agent needs to monitor.
*   **Rotation**: Rotate tokens regularly (every 60-90 days).
