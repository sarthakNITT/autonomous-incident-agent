# R2 Object Layout

This document describes how AIA organizes files within your R2 bucket.

## Directory Structure

AIA uses a clean, predictable hierarchy for artifacts.

```
/
├── events/
│   └── {trace_id}.json        # Raw OpenTelemetry spans
│
├── autopsy/
│   └── {incident_id}/
│       ├── report.md          # Root Cause Analysis
│       └── analysis.json      # Machine-readable context
│
├── patches/
│   └── {incident_id}/
│       ├── fix.diff           # The generated code patch
│       └── repro.ts           # The reproduction test case
│
└── reports/
    └── {incident_id}/
        └── summary.pdf        # (Optional) PDF export
```

## Key Paths

### Events
Raw traces are stored here briefly for analysis. They are the source of truth for the `Router`.

### Autopsy
Contains the output of the `Autopsy Service`. The `report.md` is what eventually gets posted to the GitHub PR body.

### Patches
Contains the candidate fixes generated by the `Agent`. The `repro.ts` is the script used to verify the fix.
