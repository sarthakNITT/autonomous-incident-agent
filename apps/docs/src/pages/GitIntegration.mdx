
# Git Integration

The `Git Service` is the bridge between AIA and your source code repositories. It abstracts away the complexity of git operations.

## Workflow

1.  **Clone**: When an incident starts, the service performs a shallow clone of the target repository at the specific commit where the error occurred.
2.  **Blame**: To identify potential authors for code review, `git blame` is run on the crashing lines.
3.  **Branch**: A new feature branch is created for each incident (e.g., `aia/fix-incident-123`).
4.  **Pull Request**: Once a fix is verified, the branch is pushed, and a PR is opened via the GitHub API.

## Permissions Model

To function correctly, the GitHub App or Bot needs:
- `Contents: Read/Write`: To clone code and push branches.
- `Pull Requests: Read/Write`: To open and comment on PRs.
- `Issues: Read/Write`: To report bugs if no fix is found.

We support both **Fine-Grained Personal Access Tokens (PATs)** and **GitHub App Installations**.
